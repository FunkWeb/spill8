[gd_scene load_steps=3 format=3 uid="uid://c20bol3jrarvj"]

[sub_resource type="GDScript" id="GDScript_68gjd"]
script/source = "extends CharacterBody2D

@export var npc_name: String = \"Ukjent\"
@export var speed: float = 50.0

var direction: Vector2 = Vector2.ZERO

func _ready():
	print(\"NPC klar:\", npc_name)
	if has_node(\"Label\"):
		$Label.text = npc_name

	# Setup AnimatedSprite2D frames at runtime using placeholder spritesheet
	if has_node(\"AnimatedSprite2D\"):
		var sprite_node = $AnimatedSprite2D
		var frames = SpriteFrames.new()
		# Create an 'idle' animation and add one frame from the spritesheet
		frames.add_animation("idle")
		var tex = load("res://assets/grafikk/sprites/sprt_placeholder.png")
		if tex:
			frames.add_frame("idle", tex)
			frames.set_animation_speed("idle", 1.0)
			sprite_node.frames = frames
			sprite_node.animation = "idle"
			sprite_node.play()

func _physics_process(_delta):
	velocity = direction * speed
	move_and_slide()
"

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_0jcne"]
radius = 24.0
height = 48.0

[node name="npc_grunn" type="Node2D"]

[node name="NPC_grunn_noder" type="CharacterBody2D" parent="."]
script = SubResource("GDScript_68gjd")

[node name="CollisionShape2D" type="CollisionShape2D" parent="NPC_grunn_noder"]
shape = SubResource("CapsuleShape2D_0jcne")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="NPC_grunn_noder"]
